---
title: "Vignette Title"
author: "Vignette Author"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r include=FALSE}

library(simpackage)
```

todos

must-have:
* add other alternative models

* adding "sample size" function that uses the power function in a smart way to derive n for a given power. 


optional:
* adding "random each run" option
 - not setting Rasch Model beta Parameters once in the beginning, but drawing random parameters for each run of the power function (more robust)




## Basic Workflow

The basic worklow is illustrated with testing a 2PL in the Rasch Model with an Andersen LR Test.


```{r message=FALSE, warning=FALSE}

model <- setup.model(architecture = "Rasch", n.items= 20, beta = rnorm(20), pers.dist = "normal")

altmodel <- setup.alternative(class="2PL")

test1 <- setup.test(type = "AndersenLR")

power(model = model, altmodel=altmodel, test = test1, effect.size = .01,alpha = .05, n.pers=100,runs=5)

```

Other example: Testing for DIF with the M2 Test

```{r message=FALSE, warning=FALSE}

model <- setup.model(architecture = "Rasch", n.items= 20, beta = rnorm(20), pers.dist = "normal")

altmodel <- setup.alternative(class="DIF")

test1 <- setup.test(type = "M2")

power(model = model, altmodel=altmodel, test = test1, effect.size = .02,alpha = .05, n.pers=100,runs=5)

```

